<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChÃ¡ do Noah ğŸ’™</title>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link href="https://thiagosbrianez.github.io/cha-do-noah/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://unpkg.com/imask"></script>
</head>

<body>

  <div id="boasVindas">
    <h2>ğŸ‰ Seja bem-vindo ao <br>
      <span>ChÃ¡ do Noah</span>!
    </h2>
    <p>Clique para entrar nessa celebraÃ§Ã£o com a gente ğŸ’™</p>
    <button id="entrar">Entrar</button>
  </div>

  <div class="container" data-aos="fade-up">
    <h1>ChÃ¡ do Noah ğŸ’™</h1>
    <img src="https://thiagosbrianez.github.io/cha-do-noah/files/img_ultrassom.jpg" alt="Ultrassom do Noah"
      class="ultrassom">
    <p style="text-align: center;">Estamos muito felizes com a chegada do nosso bebÃª!
      E se vocÃª recebeu este convite, Ã© porque queremos que faÃ§a parte desse momento tÃ£o especial na nossa vida e na do pequeno Noah. ğŸ’™
      <br><br>Queremos muito dividir esse momento com pessoas especiais como vocÃª, com sorrisos, abraÃ§os, risadas.. e claro,
      alguns pacotes de fraldas tambÃ©m! ğŸ˜…ğŸ¼
      <br><br>Prepare o coraÃ§Ã£o (e o apetite), porque vai ter amor, bolo e aquele cheirinho de bebÃª no ar! ğŸ‰ğŸ‘£

      <br><br>Ah! NÃ£o esqueÃ§a de confirmar sua presenÃ§a lÃ¡ em baixo, tÃ¡? âœ…
    </p>
  </div>

  <div class="container" data-aos="fade-up">

    <h3 style="text-align:center">DATA E LOCALIZAÃ‡ÃƒO</h3>

    <!-- Linha com data, hora e botÃµes -->
    <div
      style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 15px; margin-bottom: 20px; text-align: center;">

      <!-- Data e Hora -->
      <div>
        <p style="margin: 0; font-size: 16px;"><strong>ğŸ—“ï¸ Data:</strong> 13/07/2025</p>
        <p style="margin: 0; font-size: 16px;"><strong>â° HorÃ¡rio:</strong> 12:00hrs</p>
      </div>

      <!-- BotÃµes -->
             <!-- BotÃµes -->
      <div style="display: flex; flex-direction: column; align-items: center; gap: 5px;"> 
        <a href="cha-noah.ics" download
          style="padding: 8px 16px; background: #4285F4; color: white; border-radius: 5px; text-decoration: none; font-weight: 600;">
          ğŸ—“ï¸ Adicione ao seu CalendÃ¡rio
        </a>
      </div>     
    </div>

    <!-- EndereÃ§o -->
    <div style="text-align: center; margin-bottom: 20px;">
      <p style="font-size: 18px;  margin: 0;">
        ğŸ“<strong> LocalizaÃ§Ã£o:</strong> Rua NBD 4 - Nova Barretos 2 - Barretos/SP
      </p>
    </div>

    <!-- Mapa -->
    <div style="display: flex; justify-content: center;">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1107.6993990887102!2d-48.53847353191177!3d-20.57606047746824!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94bb9a9fe434e74b%3A0x944c5bd43043fae7!2sR.%20J%C3%BAlio%20Santana%20da%20Rocha%20-%20Barretos%2C%20SP!5e1!3m2!1spt-BR!2sbr!4v1746837072842!5m2!1spt-BR!2sbr"
        width="100%" height="400" style="border:0; border-radius: 8px;" allowfullscreen="" loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>

  </div>
  <div class="container" data-aos="fade-up">
    <h3 style="text-align:center">SUGESTÃƒO DE PRESENTES ğŸ</h3>
    <p>
      â€¢ Fralda M ou G ğŸš¼<br>
      â€¢ Mimo Ã  sua escolha ğŸ§¸
    </p>
  </div>
  <div class="container" data-aos="fade-up">
    <h3 style="text-align:center">OBSERVAÃ‡OES ğŸğŸ¹</h3>
    <p>Vai ter entrada, almoÃ§o e bebidas (Ã¡gua, suco e refrigerante)</p>
    <p>Ah, e o famoso <strong>open cooler</strong> ğŸ» tÃ¡ liberado! Pode trazer sua gelada se quiser, sÃ³ nÃ£o vale
      esquecer que Ã© chÃ¡ de bebÃª, nÃ£o churrascÃ£o de fim de ano! ğŸ˜„</p>
  </div>

  <div class="container" data-aos="fade-up">
    <h3 style="text-align:center">CONFIRMAÃ‡ÃƒO âœ…</h3>
    <p>Confirme sua presenÃ§a abaixo e venha celebrar esse momento com a gente! </p>
    <form id="formConvite">
      <label for="telefone">Seu WhatsApp:</label>
      <input type="text" name="telefone" id="telefone" required value="(17) ">

      <label for="nome">Seu Nome: </label>
      <input type="text" name="nome" required>

      <label for="acompanhantes">Quantidade de Acompanhantes:</label>
      <input type="number" name="acompanhantes" min="0" value="0">

      <button type="submit">Confirmar PresenÃ§a</button>
    </form>
  </div>



  <div class="contador-container" style="margin-top: 20px;">
    <div class="contador" id="contador"></div>
  </div>

  <button id="toggleMusicFloating" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  background: #0077cc;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  display: none;
">ğŸ”ˆ</button>

  <script>
    AOS.init();

    const scriptURL = "https://script.google.com/macros/s/AKfycbzeftPn5me56zfoM-E0L1j_z9AI0h2Bn_S9gdmTFAw43sE-i9nP6guCII7p8p5nzCtm/exec";
    const form = document.getElementById("formConvite");

    document.addEventListener("DOMContentLoaded", function () {
      const celularInput = document.getElementById('telefone');
      const form = document.getElementById('formConvite');

      if (celularInput) {
        IMask(celularInput, {
          mask: '(00) 00000-0000',
          lazy: false
        });
      }

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const telefone = form.telefone.value.replace(/\D/g, '');
        const nome = form.nome.value.trim();

        if (telefone.length !== 11) {
          Swal.fire({
            icon: 'error',
            title: 'Telefone invÃ¡lido',
            text: 'Digite um nÃºmero com 9 dÃ­gitos apÃ³s o DDD.'
          });
          return;
        }

        if (nome.length < 2 || !/^[A-Za-zÃ€-Ãº\s]+$/.test(nome)) {
          Swal.fire({
            icon: 'error',
            title: 'Nome invÃ¡lido',
            text: 'Por favor, insira um nome vÃ¡lido.'
          });
          return;
        }

        const formData = new URLSearchParams();
        formData.append("nome", form.nome.value);
        formData.append("telefone", form.telefone.value);
        formData.append("acompanhantes", form.acompanhantes.value);
        formData.append("secretKey", "noah2025unico");

        try {
          Swal.fire({
            title: "Enviando confirmaÃ§Ã£o...",
            allowOutsideClick: false,
            didOpen: () => Swal.showLoading()
          });

          const response = await fetch(scriptURL, {
            method: "POST",
            body: formData
          });

          const result = await response.json();
          Swal.close();

          if (result.status === "existe") {
            Swal.fire({
              title: "VocÃª jÃ¡ confirmou!",
              text: "Deseja atualizar os dados da sua presenÃ§a?",
              icon: "question",
              showCancelButton: true,
              confirmButtonText: "Sim, atualizar",
              cancelButtonText: "Cancelar"
            }).then(async (res) => {
              if (res.isConfirmed) {
                formData.set("update", true);
                Swal.fire({
                  title: "Atualizando...",
                  allowOutsideClick: false,
                  didOpen: () => Swal.showLoading()
                });
                await fetch(scriptURL, {
                  method: "POST",
                  body: formData
                });
                Swal.close();
                Swal.fire("PresenÃ§a atualizada com sucesso!", "", "success");
                form.reset();
              }
            });
          } else {
            Swal.fire({
              title: "PresenÃ§a solicitada!",
              html: "Em breve um dos papais vai entrar em contato.<br>Nos vemos lÃ¡! ğŸ’™",
              icon: "success"
            });
            form.reset();
          }
        } catch (err) {
          Swal.close();
          console.error("Erro:", err);
          Swal.fire("Erro ao enviar confirmaÃ§Ã£o", "Tente novamente mais tarde.", "error");
        }
      });

    });
    const countdown = () => {
      const evento = new Date("2025-07-13T12:00:00").getTime();
      const agora = new Date().getTime();
      const distancia = evento - agora;

      if (distancia < 0) {
        document.getElementById("contador").innerHTML = "Ã‰ hoje! ğŸ‰";
        return;
      }

      const dias = Math.floor(distancia / (1000 * 60 * 60 * 24));
      const horas = Math.floor((distancia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
      const segundos = Math.floor((distancia % (1000 * 60)) / 1000);

      document.getElementById("contador").innerHTML =
        `Faltam ${dias} dias, ${horas}h ${minutos}m ${segundos}s`;
    };

    setInterval(countdown, 1000);


    const audio = new Audio('https://thiagosbrianez.github.io/cha-do-noah/files/msc_ostentacao.mp3');
    audio.loop = true;
    audio.volume = 0.3;

    document.getElementById('entrar').addEventListener('click', () => {
      audio.play();
      document.getElementById('boasVindas').style.display = 'none';
    });

    const toggleBtn = document.getElementById('toggleMusicFloating');

    // Exibe o botÃ£o flutuante apÃ³s o play inicial
    document.getElementById('entrar').addEventListener('click', () => {
      toggleBtn.style.display = 'block';
    });

    // Alternar mÃºsica ao clicar no botÃ£o flutuante
    toggleBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        toggleBtn.textContent = 'ğŸ”ˆ';
      } else {
        audio.pause();
        toggleBtn.textContent = 'ğŸ”‡';
      }
    });


  </script>
</body>

</html>