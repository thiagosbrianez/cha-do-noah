<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChÃ¡ do Noah ğŸ’™</title>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link href="https://thiagosbrianez.github.io/cha-do-noah/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://unpkg.com/imask"></script>
</head>

<body>

  <div id="boasVindas">
    <h2>ğŸ‰ Seja bem-vindo ao <br>
      <span>ChÃ¡ do Noah</span>!
    </h2>
    <p>Clique para entrar nessa celebraÃ§Ã£o com a gente ğŸ’™</p>
    <button id="entrar">Entrar</button>
  </div>

  <div class="container" data-aos="fade-up">
    <h1>ChÃ¡ do Noah ğŸ’™</h1>
    <img src="https://thiagosbrianez.github.io/cha-do-noah/files/img_ultrassom.jpg" alt="Ultrassom do Noah"
      class="ultrassom">

    <h3 style="text-align: center;">ğŸ—“ï¸ 06/07/2025 - 12:00hrs</h3>
    <h3 style="text-align: center;">ğŸ“ A confirmar</h3>
    <p style="text-align: center;">Estamos muito felizes com a chegada do nosso bebÃª! Se vocÃª recebeu este convite, Ã©
      porque Ã© muito especial para nÃ³s.
    </p>
  </div>
  <div class="container" data-aos="fade-up">
    <h3>CONFIRMAÃ‡ÃƒO âœ…</h3>
    <p>Confirme sua presenÃ§a abaixo e venha celebrar esse momento com a gente! </p>
    <form id="formConvite">
      <label for="nome">Seu nome:</label>
      <input type="text" name="nome" required>

      <label for="acompanhantes">Quantidade de acompanhantes:</label>
      <input type="number" name="acompanhantes" min="0" value="0">

      <label for="telefone">Seu WhatsApp/Celular:</label>
      <input type="text" name="telefone" id="telefone" required>

      <button type="submit">Confirmar PresenÃ§a</button>
    </form>
  </div>
  <div class="container" data-aos="fade-up">
    <h3>SUGESTÃƒO DE PRESENTES ğŸ</h3>
    <p>
      â€¢ Fralda M ou G ğŸš¼<br>
      â€¢ Mimo Ã  sua escolha ğŸ§¸
    </p>
  </div>
  <div class="container" data-aos="fade-up">
    <h3>OBSERVAÃ‡OES ğŸğŸ¹</h3>
    <p>Vai ter entrada, almoÃ§o e bebidas (Ã¡gua, suco e refrigerante)</p>
    <p>Ah, e o famoso <strong>open cooler</strong> ğŸ» tÃ¡ liberado! Pode trazer sua gelada se quiser, sÃ³ nÃ£o vale
      esquecer que Ã© chÃ¡ de bebÃª, nÃ£o churrascÃ£o de fim de ano! ğŸ˜„</p>
  </div>

  <div class="container" data-aos="fade-up">
    <h2 style="text-align: center; color: #0077cc;">Local do ChÃ¡</h2>
    <iframe src="https://maps.google.com/maps?q=https://maps.app.goo.gl/V5Ly98D8kfPmWnm39&output=embed"></iframe>
  </div>

  <div class="contador-container" style="margin-top: 20px;">
    <div class="contador" id="contador"></div>
  </div>

  <button id="toggleMusicFloating" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  background: #0077cc;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  display: none;
">ğŸ”ˆ</button>

  <script>
    AOS.init();

    const scriptURL = "https://script.google.com/macros/s/AKfycbzeftPn5me56zfoM-E0L1j_z9AI0h2Bn_S9gdmTFAw43sE-i9nP6guCII7p8p5nzCtm/exec";
    const form = document.getElementById("formConvite");

    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const formData = new URLSearchParams();
      formData.append("nome", form.nome.value);
      formData.append("telefone", form.telefone.value);
      formData.append("acompanhantes", form.acompanhantes.value);
      formData.append("secretKey", "noah2025unico");


      try {
        Swal.fire({
          title: "Enviando confirmaÃ§Ã£o...",
          allowOutsideClick: false,
          didOpen: () => Swal.showLoading()
        });

        const response = await fetch(scriptURL, {
          method: "POST",
          body: formData
        });

        const result = await response.json();
        Swal.close();

        if (result.status === "existe") {
          Swal.fire({
            title: "VocÃª jÃ¡ confirmou!",
            text: "Deseja atualizar os dados da sua presenÃ§a?",
            icon: "question",
            showCancelButton: true,
            confirmButtonText: "Sim, atualizar",
            cancelButtonText: "Cancelar"
          }).then(async (res) => {
            if (res.isConfirmed) {
              formData.set("update", true);
              Swal.fire({
                title: "Atualizando...",
                allowOutsideClick: false,
                didOpen: () => Swal.showLoading()
              });
              await fetch(scriptURL, {
                method: "POST",
                body: formData
              });
              Swal.close();
              Swal.fire("PresenÃ§a atualizada com sucesso!", "", "success");
              form.reset();
            }
          });
        } else {
          Swal.fire("PresenÃ§a confirmada!", "Nos vemos lÃ¡! ğŸ’™", "success");
          form.reset();
        }
      } catch (err) {
        Swal.close();
        console.error("Erro:", err);
        Swal.fire("Erro ao enviar confirmaÃ§Ã£o", "Tente novamente mais tarde.", "error");
      }
    });

    const countdown = () => {
      const evento = new Date("2025-07-06T12:00:00").getTime();
      const agora = new Date().getTime();
      const distancia = evento - agora;

      if (distancia < 0) {
        document.getElementById("contador").innerHTML = "Ã‰ hoje! ğŸ‰";
        return;
      }

      const dias = Math.floor(distancia / (1000 * 60 * 60 * 24));
      const horas = Math.floor((distancia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
      const segundos = Math.floor((distancia % (1000 * 60)) / 1000);

      document.getElementById("contador").innerHTML =
        `Faltam ${dias} dias, ${horas}h ${minutos}m ${segundos}s`;
    };

    setInterval(countdown, 1000);

    document.addEventListener("DOMContentLoaded", function () {
      const celularInput = document.getElementById('telefone');
      if (celularInput) {
        IMask(celularInput, {
          mask: '(00) 00000-0000'
        });
      }
    });

    const audio = new Audio('https://thiagosbrianez.github.io/cha-do-noah/files/msc_ostentacao.mp3');
    audio.loop = true;

    document.getElementById('entrar').addEventListener('click', () => {
      audio.play();
      document.getElementById('boasVindas').style.display = 'none';
    });

    const toggleBtn = document.getElementById('toggleMusicFloating');

    // Exibe o botÃ£o flutuante apÃ³s o play inicial
    document.getElementById('entrar').addEventListener('click', () => {
      toggleBtn.style.display = 'block';
    });

    // Alternar mÃºsica ao clicar no botÃ£o flutuante
    toggleBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        toggleBtn.textContent = 'ğŸ”ˆ';
      } else {
        audio.pause();
        toggleBtn.textContent = 'ğŸ”‡';
      }
    });


  </script>
</body>

</html>